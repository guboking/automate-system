# AI å·¥ä½œæµè§„åˆ’ç³»ç»Ÿ + è‚¡ç¥¨åˆ†æç³»ç»Ÿ

---

## 0. AI å·¥ä½œæµè§„åˆ’ç³»ç»Ÿï¼ˆPlanning-with-Filesï¼‰

> åŸºäº Superpowers ä¸‰é˜¶æ®µæµç¨‹ + æ–‡ä»¶æŒä¹…åŒ–æ–¹æ¡ˆ
> ç›®æ ‡ï¼šè§£å†³ AI "æ²¡è®°æ€§"ï¼ˆè·¨ä¼šè¯é—å¿˜ï¼‰å’Œ "æ²¡ç« æ³•"ï¼ˆæ‰§è¡Œåç¦»ï¼‰é—®é¢˜

### 0.1 è§¦å‘æ¡ä»¶

**ä»»ä½•éç®€å•é—®ç­”çš„ä»»åŠ¡**éƒ½åº”å¯åŠ¨è§„åˆ’æµç¨‹ï¼Œç‰¹åˆ«æ˜¯ï¼š
- æ¶‰åŠå¤šä¸ªæ–‡ä»¶ä¿®æ”¹çš„å¼€å‘ä»»åŠ¡
- æ–°åŠŸèƒ½å¼€å‘æˆ–é‡æ„
- å¤æ‚çš„åˆ†æä»»åŠ¡
- ç”¨æˆ·æ˜ç¡®è¯´ã€Œè§„åˆ’ä¸€ä¸‹ã€ã€Œè®¡åˆ’ã€ã€Œplanã€

### 0.2 æ–°ä¼šè¯å¯åŠ¨åè®®

æ¯æ¬¡æ–°ä¼šè¯å¼€å§‹æ—¶ï¼Œ**å¿…é¡»**æŒ‰é¡ºåºè¯»å–ï¼š

```
1. CLAUDE.md              â†’ è·å–å·¥ä½œæµæŒ‡ä»¤
2. .planning/knowledge.md â†’ äº†è§£é¡¹ç›®èƒŒæ™¯å’ŒæŠ€æœ¯æ ˆ
3. .planning/progress.md  â†’ äº†è§£ä¸Šæ¬¡è¿›åº¦å’Œé—ç•™é—®é¢˜
4. .planning/task_plan.md â†’ äº†è§£å½“å‰ä»»åŠ¡è®¡åˆ’å’ŒçŠ¶æ€
```

### 0.3 ä¸‰é˜¶æ®µæ‰§è¡Œæµç¨‹ï¼ˆSuperpowers æ–¹æ³•è®ºï¼‰

```
Phase 1: Brainstormingï¼ˆéœ€æ±‚æ¾„æ¸…ï¼‰
    â”œâ”€â”€ è®°å½•ç”¨æˆ·åŸå§‹éœ€æ±‚
    â”œâ”€â”€ æ˜ç¡®æ ¸å¿ƒç›®æ ‡ï¼ˆGï¼‰
    â”œâ”€â”€ å®šä¹‰æˆåŠŸæ ‡å‡†
    â””â”€â”€ åˆ—å‡ºå…³é”®é—®é¢˜å’Œçº¦æŸ
          â†“
Phase 2: Structured Planï¼ˆç»“æ„åŒ–è®¡åˆ’ï¼‰
    â”œâ”€â”€ åˆ†è§£ä¸ºåŸå­æ­¥éª¤
    â”œâ”€â”€ æ ‡æ³¨ä¾èµ–å…³ç³»
    â”œâ”€â”€ è¯†åˆ«é£é™©ä¸å›é€€æ–¹æ¡ˆ
    â””â”€â”€ å†™å…¥ task_plan.md
          â†“
Phase 3: Verificationï¼ˆå®ŒæˆéªŒè¯ï¼‰
    â”œâ”€â”€ é€é¡¹æ£€æŸ¥äº¤ä»˜ç‰©
    â”œâ”€â”€ è®°å½•éªŒè¯è¯æ®ï¼ˆä¸è®¸è¯´"åº”è¯¥æ²¡é—®é¢˜"ï¼‰
    â””â”€â”€ æ›´æ–° progress.md
```

### 0.4 æ–‡ä»¶ç®¡ç†è§„åˆ™

| æ–‡ä»¶ | ä½•æ—¶æ›´æ–° | è°æ›´æ–° |
|------|----------|--------|
| `task_plan.md` | æ–°ä»»åŠ¡å¼€å§‹ / è®¡åˆ’è°ƒæ•´ / è¿›å…¥éªŒè¯ | AI |
| `progress.md` | æ¯å®Œæˆä¸€æ­¥ / é‡åˆ°é˜»å¡ / åšå‡ºå†³ç­– / ä¼šè¯ç»“æŸ | AI |
| `knowledge.md` | æ¶æ„å†³ç­– / æ–°æ¨¡å— / æ–°çº¦å®š / æŠ€æœ¯æ ˆå˜æ›´ | AI + äºº |

### 0.5 ç®¡ç†å·¥å…·

```bash
# åˆ›å»ºæ–°ä»»åŠ¡
python .planning/manage.py new "ä»»åŠ¡åç§°"

# æŸ¥çœ‹å½“å‰çŠ¶æ€
python .planning/manage.py status

# æ·»åŠ è¿›åº¦è®°å½•
python .planning/manage.py log "å®Œæˆäº†XXX"

# æ ‡è®°ä»»åŠ¡å®Œæˆ
python .planning/manage.py complete

# å½’æ¡£ä¼šè¯
python .planning/manage.py archive
```

### 0.6 å…³é”®åŸåˆ™

1. **å…ˆæƒ³ååš** â€” ä»»ä½• >3 æ­¥çš„ä»»åŠ¡å¿…é¡»å…ˆå†™è®¡åˆ’å†åŠ¨æ‰‹
2. **æ­¥æ­¥è®°å½•** â€” æ¯å®Œæˆä¸€æ­¥ç«‹å³æ›´æ–° progress.md
3. **è¯æ®éªŒè¯** â€” å®ŒæˆéªŒè¯å¿…é¡»é™„å¸¦è¯æ®ï¼Œç¦æ­¢"åº”è¯¥æ²¡é—®é¢˜"
4. **æ–‡ä»¶å³è®°å¿†** â€” æ‰€æœ‰é‡è¦ä¿¡æ¯å†™å…¥æ–‡ä»¶ï¼Œä¸ä¾èµ–å¯¹è¯ä¸Šä¸‹æ–‡
5. **æœ€å°æ”¹åŠ¨** â€” åªåšè¢«è¦æ±‚çš„äº‹ï¼Œä¸è¿‡åº¦å·¥ç¨‹åŒ–

---

# è‚¡ç¥¨åˆ†æç³»ç»Ÿ

## è§¦å‘æ¡ä»¶

å½“ç”¨æˆ·æåˆ°ä»¥ä¸‹å…³é”®è¯æ—¶ï¼Œå¯åŠ¨æœ¬å·¥ä½œæµï¼š
- ã€Œåˆ†æ XXX è‚¡ç¥¨ã€ã€Œçœ‹çœ‹ XXXã€ã€ŒXXX æ€ä¹ˆæ ·ã€
- ã€Œåˆ·æ–° XXX æ•°æ®ã€ã€Œæ›´æ–° XXXã€
- ã€Œå¯¹æ¯” A å’Œ Bã€ã€ŒXXX vs YYYã€

---

## 1. æ‰§è¡Œæµç¨‹

```
ç”¨æˆ·è¯·æ±‚
    â†“
è¯†åˆ«è‚¡ç¥¨ä»£ç  â†’ è½¬æ¢ä¸ºæ ‡å‡†æ ¼å¼ï¼ˆè§ä»£ç æ ¼å¼è¡¨ï¼‰
    â†“
æ£€æŸ¥ç¼“å­˜ ./stock_cache/data/{symbol}.json
    â†“
â”Œâ”€ ç¼“å­˜å­˜åœ¨ä¸”æœªè¿‡æœŸ â†’ ç›´æ¥è¯»å–ï¼Œè¾“å‡ºåˆ†æ
â”‚
â””â”€ ç¼“å­˜ä¸å­˜åœ¨æˆ–å·²è¿‡æœŸ â†’ è·å–æ–°æ•°æ® â†’ å†™å…¥ç¼“å­˜ â†’ è¾“å‡ºåˆ†æ
```

## 2. ç¼“å­˜ç­–ç•¥

### 2.1 æœ‰æ•ˆæœŸåˆ¤æ–­

```python
# ä¼ªä»£ç é€»è¾‘
def is_expired(updated_at, data_type):
    age = now() - updated_at
    limits = {
        "price": 24å°æ—¶,      # è¡Œæƒ…æ•°æ®ï¼Œæ¯æ—¥æ›´æ–°
        "fundamentals": 7å¤©,  # è´¢æŠ¥æ•°æ®ï¼Œå­£åº¦æ›´æ–°
        "news": 6å°æ—¶,        # æ–°é—»èµ„è®¯ï¼Œé¢‘ç¹æ›´æ–°
        "analyst": 3å¤©        # æœºæ„è¯„çº§ï¼Œå®šæœŸæ›´æ–°
    }
    return age > limits[data_type]
```

### 2.2 ç¼“å­˜æ›´æ–°è§„åˆ™

| åœºæ™¯ | åŠ¨ä½œ |
|------|------|
| æ— ç¼“å­˜ | å…¨é‡è·å–æ‰€æœ‰æ•°æ® |
| ä»·æ ¼è¿‡æœŸ | ä»…æ›´æ–° price å­—æ®µ |
| æ–°é—»è¿‡æœŸ | ä»…æ›´æ–° news å­—æ®µ |
| ç”¨æˆ·è¯´ã€Œåˆ·æ–°ã€ | å¼ºåˆ¶å…¨é‡æ›´æ–° |

---

## 3. æ•°æ®ç»“æ„

### 3.1 æ ‡å‡†æ•°æ®å­—æ®µ

```json
{
  "symbol": "002594.SZ",
  "name": "æ¯”äºšè¿ª",
  "market": "Aè‚¡æ·±å¸‚",
  "updated_at": "2025-12-07T14:00:00Z",

  "price": {
    "current": 95.98,
    "prev_close": 95.24,
    "change_pct": "+0.78%",
    "range_day": [94.71, 96.22],
    "range_52w": [87.40, 138.99],
    "volume": "35.92ä¸‡æ‰‹",
    "turnover": "34.84äº¿å…ƒ"
  },

  "fundamentals": {
    "revenue_ytd": "5662.66äº¿å…ƒ",
    "revenue_growth": "+12.75%",
    "net_profit_ytd": "233.33äº¿å…ƒ",
    "profit_growth": "-7.55%",
    "gross_margin": "17.87%",
    "pe_ratio": null,
    "pb_ratio": null
  },

  "analyst": {
    "target_price_avg": 129.78,
    "target_price_high": 167,
    "target_price_low": 92,
    "buy_ratings": 28,
    "hold_ratings": 0,
    "sell_ratings": 2,
    "upside": "+35.22%"
  },

  "capital_flow": {
    "main_net": "+3.44äº¿å…ƒ",
    "retail_net": "-2.31äº¿å…ƒ",
    "north_net": null
  },

  "technical": {
    "ma5": null,
    "ma20": null,
    "support": null,
    "resistance": null,
    "signal": null
  },

  "news": []
}
```

### 3.2 è‚¡ç¥¨ä»£ç æ ¼å¼

| å¸‚åœº | æ ¼å¼ | ç¤ºä¾‹ | è¯†åˆ«è§„åˆ™ |
|------|------|------|----------|
| Aè‚¡æ²ªå¸‚ | {6ä½}.SS | 603993.SS | 60/68å¼€å¤´ |
| Aè‚¡æ·±å¸‚ | {6ä½}.SZ | 000001.SZ | 00/30/002å¼€å¤´ |
| æ¸¯è‚¡ | {4-5ä½}.HK | 1211.HK | çº¯æ•°å­— |
| ç¾è‚¡ | {å­—æ¯} | TSLA | çº¯å­—æ¯ |

---

## 4. åˆ†ææŠ¥å‘Šæ¨¡æ¿

è¾“å‡ºæŠ¥å‘Šåº”åŒ…å«ä»¥ä¸‹æ¨¡å—ï¼š

### ğŸ“Š è‚¡ä»·æ¦‚è§ˆ
- ç°ä»·ã€æ¶¨è·Œå¹…ã€52å‘¨åŒºé—´
- å½“å‰ä½ç½®ï¼ˆé«˜ä½/ä¸­ä½/ä½ä½ï¼‰

### ğŸ“ˆ åŸºæœ¬é¢åˆ†æ
- è¥æ”¶ã€åˆ©æ¶¦åŠå¢é€Ÿ
- æ¯›åˆ©ç‡ã€PEã€PB
- åŒæ¯”ç¯æ¯”å˜åŒ–

### ğŸ¯ æœºæ„è§‚ç‚¹
- ç›®æ ‡ä»·åŒºé—´
- ä¹°å…¥/å–å‡ºè¯„çº§æ•°
- æ½œåœ¨æ¶¨å¹…

### ğŸ’° èµ„é‡‘æµå‘
- ä¸»åŠ›/æ•£æˆ·åŠ¨å‘
- åŒ—å‘èµ„é‡‘ï¼ˆå¦‚æœ‰ï¼‰

### âš ï¸ é£é™©æç¤º
- æŠ€æœ¯é¢ä¿¡å·
- éœ€å…³æ³¨çš„é£é™©ç‚¹

---

## 5. æ•°æ®è·å–ä¼˜å…ˆçº§

1. **WebSearch** - å¿«é€Ÿè·å–æœ€æ–°è¡Œæƒ…å’Œæ–°é—»
2. **WebFetch** - æŠ“å–ç‰¹å®šè´¢ç»ç½‘ç«™è¯¦æƒ…é¡µ
3. **Playwright** - å¤æ‚é¡µé¢çˆ¬å–ï¼ˆéœ€ browser å·¥å…·ï¼‰

å¸¸ç”¨æ•°æ®æºï¼š
- ä¸œæ–¹è´¢å¯Œï¼š`quote.eastmoney.com`
- é›ªçƒï¼š`xueqiu.com`
- Yahoo Financeï¼š`finance.yahoo.com`
- Investing.comï¼š`investing.com`

---

## 6. ç›®å½•ç»“æ„

```
.planning/                          # AI å·¥ä½œæµè§„åˆ’ç³»ç»Ÿ
â”œâ”€â”€ task_plan.md                   # å½“å‰ä»»åŠ¡è®¡åˆ’ï¼ˆä¸‰é˜¶æ®µï¼‰
â”œâ”€â”€ progress.md                    # è¿›åº¦è¿½è¸ªï¼ˆè·¨ä¼šè¯ï¼‰
â”œâ”€â”€ knowledge.md                   # é¡¹ç›®çŸ¥è¯†åº“ï¼ˆæŒä¹…åŒ–ï¼‰
â””â”€â”€ manage.py                      # ç®¡ç†å·¥å…·è„šæœ¬

./stock_cache/
â”œâ”€â”€ cache_index.json          # ç´¢å¼•ï¼šè®°å½•æ¯åªè‚¡ç¥¨çš„æ›´æ–°æ—¶é—´
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ {symbol}.json         # å•è‚¡æ•°æ®æ–‡ä»¶
â”‚   â””â”€â”€ ...
â””â”€â”€ reports/
    â””â”€â”€ {symbol}_{date}.md    # åˆ†ææŠ¥å‘Šå­˜æ¡£
```

---

## 7. ä½¿ç”¨ç¤ºä¾‹

| ç”¨æˆ·è¯´ | Claude åŠ¨ä½œ |
|--------|-------------|
| ã€Œåˆ†ææ¯”äºšè¿ªã€ | æŸ¥ç¼“å­˜ â†’ æœ‰æ•ˆåˆ™è¯»å– â†’ è¾“å‡ºåˆ†æ |
| ã€Œåˆ·æ–°æ¯”äºšè¿ªæ•°æ®ã€ | å¼ºåˆ¶è·å–æœ€æ–°æ•°æ® â†’ æ›´æ–°ç¼“å­˜ â†’ è¾“å‡ºåˆ†æ |
| ã€Œæ¯”äºšè¿ª vs ç‰¹æ–¯æ‹‰ã€ | åˆ†åˆ«è·å–ä¸¤åªè‚¡ç¥¨ â†’ å¯¹æ¯”åˆ†æ |
| ã€Œæœ€è¿‘åˆ†æè¿‡å“ªäº›è‚¡ç¥¨ã€ | è¯»å– cache_index.json åˆ—å‡º |
